<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>HDC大阪 仮想ショールーム</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- 部屋選択モーダル -->
  <div id="room-selection-modal" class="modal" style="display: flex;">
    <div class="modal-content modal-large">
      <div class="modal-header">
        <h2>部屋を選択してください</h2>
      </div>
      <div class="room-selection-grid">
        <div class="room-card" onclick="selectRoom('standard')">
          <div class="room-preview-simple">
            <div class="room-icon">🏠</div>
            <div class="room-size">10m × 10m</div>
          </div>
          <h3 class="room-name">スタンダードルーム</h3>
          <p class="room-description">白い壁とグレーの床</p>
        </div>
        
        <div class="room-card" onclick="selectRoom('wide')">
          <div class="room-preview-simple">
            <div class="room-icon">🏛️</div>
            <div class="room-size">15m × 15m</div>
          </div>
          <h3 class="room-name">ワイドルーム</h3>
          <p class="room-description">明るい空間と木目調の床</p>
        </div>
        
        <div class="room-card" onclick="selectRoom('compact')">
          <div class="room-preview-simple">
            <div class="room-icon">🛌</div>
            <div class="room-size">8m × 8m</div>
          </div>
          <h3 class="room-name">コンパクトルーム</h3>
          <p class="room-description">居心地のよい温かみのある空間</p>
        </div>
      </div>
    </div>
  </div>

  <div id="info">モード: 配置</div>
  <div id="selected-furniture-info"></div>
  <div id="center-cursor"></div>
  
  <!-- 回転ボタン -->
  <button id="rotate-left-btn" class="rotate-control-btn" onclick="rotateFurnitureAtCenter(-45)">◀ L</button>
  <button id="rotate-right-btn" class="rotate-control-btn" onclick="rotateFurnitureAtCenter(45)">R ▶</button>
  
  <!-- カテゴリ選択モーダル -->
  <div id="category-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>家具カテゴリを選択</h2>
        <span class="close" onclick="closeCategorySelect()">&times;</span>
      </div>
      <div id="category-grid" class="gallery-grid">
        <!-- JavaScriptで動的生成 -->
      </div>
    </div>
  </div>

  <!-- ギャラリーモーダル -->
  <div id="gallery-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modal-title">家具を選択</h2>
        <span class="close" onclick="closeGallery()">&times;</span>
      </div>
      <div id="gallery-grid" class="gallery-grid">
        <!-- JavaScriptで動的生成 -->
      </div>
    </div>
  </div>
  
  <a-scene>
    <a-plane id="floor"
             position="0 0 0" 
             rotation="-90 0 0" 
             width="20" 
             height="20" 
             color="#3A3A3A"></a-plane>
    
    <a-plane position="0 3 -10" width="20" height="6" color="#F5F5F0"></a-plane>
    <a-plane position="-10 3 0" rotation="0 90 0" width="20" height="6" color="#F5F5F0"></a-plane>
    <a-plane position="10 3 0" rotation="0 -90 0" width="20" height="6" color="#F5F5F0"></a-plane>
    <a-plane position="0 3 10" rotation="0 180 0" width="20" height="6" color="#F5F5F0"></a-plane>
    
    <a-light type="ambient" intensity="0.5"></a-light>
    <a-light type="directional" intensity="0.8" position="5 6 3"></a-light>
    
    <a-ring id="pointer" 
            radius-inner="0.15"
            radius-outer="0.25" 
            rotation="-90 0 0" 
            position="0 0.02 -3"
            color="#00FF00"
            opacity="0.8"></a-ring>
    
    <a-camera id="camera" position="0 1.6 5"></a-camera>
  </a-scene>

  <!-- バーチャルジョイスティック -->
  <div id="joystick-container">
    <div id="joystick-base"></div>
    <div id="joystick-stick"></div>
  </div>

  <div id="furniture-menu">
    <button class="furniture-btn" onclick="openCategorySelect()">🪑 家具</button>
    <button id="place-btn" class="furniture-btn" onclick="placeFurniture()">📍 配置</button>
    <button id="rotate-btn" class="furniture-btn" onclick="rotateFurnitureAtCenter(45)">🔄 回転</button>
    <button id="delete-btn" class="furniture-btn" onclick="deleteFurnitureAtCenter()">🗑️ 削除</button>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
